# Experiment configuration file.

seml:
  executable: experiments/experiment_runner.py
  name: "epicardiods_embedding"
  output_dir: experiments/logs
  project_root_dir: /storage/groups/ml01/code/laura.martens/epicardiods_analysis/
  conda_environment: poisson_atac_new
slurm:
  experiments_per_job: 1
  max_simultaneous_jobs: 10
  sbatch_options_template: GPU
  sbatch_options:
     gres: gpu:1       # num GPUs
     mem: 45G          # memory
     cpus-per-task: 4  # num cores
     time: 0-20:01     # max time, D-HH:MM

###### BEGIN PARAMETER CONFIGURATION ######

fixed:
  training.max_epochs: 500
  training.save_path: /storage/groups/ml01/workspace/laura.martens/moretti_colab/models
  training.project_name: "epicardiods"
  optimization.regularization:
    weight_decay: 1e-3
    learning_rate: 1e-4

  data.dataset: "epicardiods" 
  data.batch: None
  setup.batch_key: "Sample"
  setup.label_key: None
  model.model_type: "poissonvi"
  setup.layer: "counts" #counts are stored in layer

grid:
    setup.model_params.n_latent:
      type: range
      min: 20
      max: 81
      step: 10

